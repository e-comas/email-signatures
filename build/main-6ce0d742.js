function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function d(){return u("")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function h(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let b;function y(e){b=e}function $(){if(!b)throw new Error("Function called outside component initialization");return b}const w=[],v=[],x=[],_=[],k=Promise.resolve();let A=!1;function I(e){x.push(e)}let C=!1;const j=new Set;function P(){if(!C){C=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];y(t),T(t.$$)}for(y(null),w.length=0;v.length;)v.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];j.has(t)||(j.add(t),t())}x.length=0}while(w.length);for(;_.length;)_.pop()();A=!1,C=!1,j.clear()}}function T(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const E=new Set;let L,U;function S(){L={r:0,c:[],p:L}}function O(){L.r||o(L.c),L=L.p}function q(e,t){e&&e.i&&(E.delete(e),e.i(t))}function N(e,t,n,o){if(e&&e.o){if(E.has(e))return;E.add(e),L.c.push((()=>{E.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function z(e,t){const n=t.token={};function o(e,o,r,i){if(t.token!==n)return;t.resolved=i;let l=t.ctx;void 0!==r&&(l=l.slice(),l[r]=i);const a=e&&(t.current=e)(l);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(S(),N(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),O())})):t.block.d(1),a.c(),q(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[o]=a),c&&P()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=$();if(e.then((e=>{y(n),o(t.then,1,t.value,e),y(null)}),(e=>{if(y(n),o(t.catch,2,t.error,e),y(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function R(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}function H(e){e&&e.c()}function M(e,n,i,l){const{fragment:a,on_mount:c,on_destroy:s,after_update:u}=e.$$;a&&a.m(n,i),l||I((()=>{const n=c.map(t).filter(r);s?s.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(I)}function D(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(w.push(e),A||(A=!0,k.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,r,i,l,a,s,u=[-1]){const f=b;y(t);const d=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=i?i(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),p&&W(t,e)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);d.fragment&&d.fragment.l(e),e.forEach(c)}else d.fragment&&d.fragment.c();r.intro&&q(t.$$.fragment),M(t,r.target,r.anchor,r.customElement),P()}y(f)}class B{$destroy(){D(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let Q=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Q.decode();let Y=null;function J(){return null!==Y&&Y.buffer===U.memory.buffer||(Y=new Uint8Array(U.memory.buffer)),Y}function G(e,t){return Q.decode(J().subarray(e,e+t))}const K=new Array(32).fill(void 0);K.push(void 0,null,!0,!1);let V=K.length;function X(e){V===K.length&&K.push(K.length+1);const t=V;return V=K[t],K[t]=e,t}function Z(e){return K[e]}let ee=0,te=new TextEncoder("utf-8");const ne="function"==typeof te.encodeInto?function(e,t){return te.encodeInto(e,t)}:function(e,t){const n=te.encode(e);return t.set(n),{read:e.length,written:n.length}};function oe(e,t,n){if(ArrayBuffer.isView(e)){const n=e.byteLength,o=t(n);return J().set(e,o),ee=n,o}if(void 0===n){const n=te.encode(e),o=t(n.length);return J().subarray(o,o+n.length).set(n),ee=n.length,o}let o=e.length,r=t(o);const i=J();let l=0;for(;l<o;l++){const t=e.charCodeAt(l);if(t>127)break;i[r+l]=t}if(l!==o){0!==l&&(e=e.slice(l)),r=n(r,o,o=l+3*e.length);const t=J().subarray(r+l,r+o);l+=ne(e,t).written}return ee=l,r}let re=null;function ie(){return null!==re&&re.buffer===U.memory.buffer||(re=new Int32Array(U.memory.buffer)),re}function le(e){const t=Z(e);return function(e){e<36||(K[e]=V,V=e)}(e),t}function ae(e){var t=oe(e,U.__wbindgen_malloc,U.__wbindgen_realloc),n=ee;return le(U.parse(t,n))}let ce=32;function se(e){try{const o=U.__wbindgen_export_2.value-16;U.__wbindgen_export_2.value=o,U.stringify(o,function(e){if(1==ce)throw new Error("out of js stack");return K[--ce]=e,ce}(e));var t=ie()[o/4+0],n=ie()[o/4+1];return G(t,n)}finally{U.__wbindgen_export_2.value+=16,K[ce++]=void 0,U.__wbindgen_free(t,n)}}async function ue(e){void 0===e&&(e=import.meta.url.replace(/\.js$/,"_bg.wasm"));const t={wbg:{}};t.wbg.__wbindgen_json_parse=function(e,t){return X(JSON.parse(G(e,t)))},t.wbg.__wbindgen_json_serialize=function(e,t){const n=Z(t);var o=oe(JSON.stringify(void 0===n?null:n),U.__wbindgen_malloc,U.__wbindgen_realloc),r=ee;ie()[e/4+1]=r,ie()[e/4+0]=o},t.wbg.__wbindgen_string_new=function(e,t){return X(G(e,t))},t.wbg.__wbindgen_rethrow=function(e){throw le(e)},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return U=n.exports,ue.__wbindgen_wasm_module=o,U}function fe(e){let t,n,o,r;return{c(){t=s("label"),n=u(e[2]),o=f(),r=s("input"),m(r,"name",e[0]),r.value=e[6],m(r,"type",e[4]),m(r,"autocomplete",e[1]),m(r,"placeholder",e[3]),r.required=e[5]},m(i,c){a(i,t,c),l(t,n),l(t,o),l(t,r),e[9](r)},p(e,t){4&t&&g(n,e[2]),1&t&&m(r,"name",e[0]),64&t&&r.value!==e[6]&&(r.value=e[6]),16&t&&m(r,"type",e[4]),2&t&&m(r,"autocomplete",e[1]),8&t&&m(r,"placeholder",e[3]),32&t&&(r.required=e[5])},d(n){n&&c(t),e[9](null)}}}function de(e){let t;return{c(){t=s("input"),m(t,"type",e[4]),m(t,"name",e[0]),t.value=e[6]},m(e,n){a(e,t,n)},p(e,n){16&n&&m(t,"type",e[4]),1&n&&m(t,"name",e[0]),64&n&&t.value!==e[6]&&(t.value=e[6])},d(e){e&&c(t)}}}function pe(t){let n;function o(e,t){return"hidden"===e[4]?de:fe}let r=o(t),i=r(t);return{c(){i.c(),n=d()},m(e,t){i.m(e,t),a(e,n,t)},p(e,[t]){r===(r=o(e))&&i?i.p(e,t):(i.d(1),i=r(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&c(n)}}}function me(e,t,n){let o,{name:r}=t,{autocomplete:i="auto"}=t,{autofocus:l=!1}=t,{label:a=r}=t,{placeholder:c}=t,{type:s="text"}=t,{required:u=!1}=t,{value:f=""}=t;var d;return l&&(d=()=>o.focus(),$().$$.on_mount.push(d)),e.$$set=e=>{"name"in e&&n(0,r=e.name),"autocomplete"in e&&n(1,i=e.autocomplete),"autofocus"in e&&n(8,l=e.autofocus),"label"in e&&n(2,a=e.label),"placeholder"in e&&n(3,c=e.placeholder),"type"in e&&n(4,s=e.type),"required"in e&&n(5,u=e.required),"value"in e&&n(6,f=e.value)},[r,i,a,c,s,u,f,o,l,function(e){v[e?"unshift":"push"]((()=>{o=e,n(7,o)}))}]}class ge extends B{constructor(e){super(),F(this,e,me,pe,i,{name:0,autocomplete:1,autofocus:8,label:2,placeholder:3,type:4,required:5,value:6})}}function he(e){let t,n,o,i,u,d,g,h,b,y,$,w,v,x,_,k,A,I,C,j,P,T,E,L,U,S;return u=new ge({props:{name:"Name",value:e[1],required:!0,autocomplete:"name"}}),g=new ge({props:{name:"Title",value:e[2],autocomplete:"organization-title",autofocus:!0,required:!0}}),b=new ge({props:{name:"Phone",value:e[3],type:"phone",placeholder:"International phone number (optional)"}}),$=new ge({props:{name:"pictureUrl",value:e[4],type:"hidden"}}),v=new ge({props:{name:"url.Facebook",value:e[5],type:"url",placeholder:"Public URL to your Facebook profile (optional)"}}),_=new ge({props:{name:"url.LinkedIn",value:e[7],type:"url",placeholder:"Public URL to your LinkedIn profile (optional)"}}),A=new ge({props:{name:"url.Medium",value:e[6],type:"url",placeholder:"Public URL to your Medium profile (optional)"}}),C=new ge({props:{name:"url.Twitter",value:e[8],type:"url",placeholder:"Public URL to your Twitter profile (optional)"}}),P=new ge({props:{name:"url.YouTube",value:e[9],type:"url",placeholder:"Public URL to your YouTube channel (optional)"}}),{c(){t=s("form"),n=s("fieldset"),o=s("legend"),o.textContent="Personal information",i=f(),H(u.$$.fragment),d=f(),H(g.$$.fragment),h=f(),H(b.$$.fragment),y=f(),H($.$$.fragment),w=f(),H(v.$$.fragment),x=f(),H(_.$$.fragment),k=f(),H(A.$$.fragment),I=f(),H(C.$$.fragment),j=f(),H(P.$$.fragment),T=f(),E=s("button"),E.textContent="Save my information",m(E,"type","submit")},m(c,s){a(c,t,s),l(t,n),l(n,o),l(n,i),M(u,n,null),l(n,d),M(g,n,null),l(n,h),M(b,n,null),l(n,y),M($,n,null),l(n,w),M(v,n,null),l(n,x),M(_,n,null),l(n,k),M(A,n,null),l(n,I),M(C,n,null),l(n,j),M(P,n,null),l(n,T),l(n,E),L=!0,U||(S=p(t,"submit",(function(){r(e[0])&&e[0].apply(this,arguments)})),U=!0)},p(t,[n]){e=t},i(e){L||(q(u.$$.fragment,e),q(g.$$.fragment,e),q(b.$$.fragment,e),q($.$$.fragment,e),q(v.$$.fragment,e),q(_.$$.fragment,e),q(A.$$.fragment,e),q(C.$$.fragment,e),q(P.$$.fragment,e),L=!0)},o(e){N(u.$$.fragment,e),N(g.$$.fragment,e),N(b.$$.fragment,e),N($.$$.fragment,e),N(v.$$.fragment,e),N(_.$$.fragment,e),N(A.$$.fragment,e),N(C.$$.fragment,e),N(P.$$.fragment,e),L=!1},d(e){e&&c(t),D(u),D(g),D(b),D($),D(v),D(_),D(A),D(C),D(P),U=!1,S()}}}function be(e,t,n){let{user:o}=t,{onsubmit:r}=t;const{Name:i,Title:l,Phone:a,pictureUrl:c}=o,{Facebook:s,Medium:u,LinkedIn:f,Twitter:d,YouTube:p}=o.url||{};return e.$$set=e=>{"user"in e&&n(10,o=e.user),"onsubmit"in e&&n(0,r=e.onsubmit)},[r,i,l,a,c,s,u,f,d,p,o]}class ye extends B{constructor(e){super(),F(this,e,be,he,i,{user:10,onsubmit:0})}}var $e=[376,971,93,355,374,244,54,43,61,297,994,387,880,32,226,359,973,257,229,673,591,55,975,267,375,501,243,236,242,41,225,682,56,237,86,57,506,53,238,599,357,420,49,253,45,213,593,372,20,291,34,251,358,679,691,298,33,241,44,995,594,233,350,299,220,224,590,240,30,502,245,592,852,504,385,509,36,62,353,972,91,246,964,98,354,39,962,81,254,996,855,269,850,82,965,856,961,423,94,231,266,370,352,371,218,212,377,373,382,261,692,389,223,95,976,853,596,222,356,230,960,265,52,60,258,264,687,227,672,234,505,31,47,977,674,683,64,968,507,51,689,675,63,92,48,508,970,351,680,595,974,262,40,381,7,250,966,677,248,249,46,65,386,421,232,378,221,252,597,211,239,503,963,268,235,228,66,992,670,993,216,676,90,688,886,255,380,256,1,598,998,58,84,678,681,685,383,967,27,260,263,800,808,870,878,881,882,883,888,979];const we=new URL("./data/",import.meta.url);var ve=e=>fetch(new URL(`./${e}.json`,we)).then((e=>e.ok?e.json():Promise.reject(new Error(e.statusText))));async function xe(e){const[t,n,o]=await async function(e){const t="+"===e[0]?1:0;for(let n=t;n<e.length;n++){const o=Number(e.slice(t,n));if($e.includes(o))return[o,e.slice(n),await ve(o)]}return Promise.reject(new Error("Unable to find valid country code"))}(e);let r;for(const{leadingDigits:e,pattern:t,format:i}of o)if(new RegExp(`^(${e})`).test(n)){const e=new RegExp(`${t}$`);if(e.test(n)){r=n.replace(e,i);break}}return`+${t} ${r||n}`}function _e(e){e[8]=e[9][0]}function ke(t){let n,o,r=t[10]+"";return{c(){n=s("p"),o=u(r),h(n,"color","red")},m(e,t){a(e,n,t),l(n,o)},p:e,d(e){e&&c(n)}}}function Ae(t){let n,o,r,i,d,p,b,y,$,w,v,x,_,k,A,I,C,j,P,T,E,L,U,S,O,q,N,z,R,H,M,D,W,F,B;_e(t);let Q=t[3]&&function(t){let n,o,r,i,f=t[8]+"";return{c(){n=s("tr"),o=s("td"),r=s("a"),i=u(f),m(r,"href","tel:"+t[3]),m(r,"target","_blank"),h(r,"color","#0c195a"),h(r,"text-decoration","none"),h(o,"font-family","Arial, Helvetica, sans-serif"),h(o,"font-size","14px"),h(o,"vertical-align","top")},m(e,t){a(e,n,t),l(n,o),l(o,r),l(r,i)},p:e,d(e){e&&c(n)}}}(t);return{c(){n=s("table"),o=s("tbody"),r=s("tr"),i=s("td"),d=s("table"),p=s("tbody"),b=s("tr"),y=s("td"),y.innerHTML='<img alt="Qhalikay Organics logo" width="105" height="105" src="https://cdn.shopify.com/s/files/1/0576/7561/2341/files/QKLogo4email.png" style="-ms-interpolation-mode: bicubic; max-width: 100%; height: auto; border: none; padding-right: 5px;"/>',$=f(),w=s("td"),v=s("table"),x=s("tbody"),_=s("tr"),k=s("td"),A=s("strong"),A.textContent=`${t[1]}`,I=f(),C=s("tr"),j=s("td"),P=s("strong"),P.textContent=`${t[2]}`,T=f(),E=s("tr"),L=s("td"),U=s("a"),S=u(t[0]),q=f(),Q&&Q.c(),N=f(),z=s("tr"),R=s("td"),H=s("a"),M=u(je),D=f(),W=s("tr"),W.innerHTML='<td style="font-family: Arial, Helvetica, sans-serif; font-size: 14px; vertical-align: top;"><table cellpadding="0" cellspacing="0" style="mso-table-lspace: 0pt; mso-table-rspace: 0pt; border-collapse: separate;"><tbody><tr><td style="font-family: Arial, Helvetica, sans-serif; font-size: 14px; vertical-align: top;"><a href="https://www.qhalikay-organics.com/" target="_blank" rel="noopener" style="color: #0c195a; text-decoration: none;"><img alt="Logo" width="384" height="143" src="https://cdn.shopify.com/s/files/1/0576/7561/2341/files/email_banner.jpg" style="-ms-interpolation-mode: bicubic; max-width: 100%; height: auto; border: none; padding-right: 5px;"/></a></td></tr></tbody></table></td>',F=f(),B=s("style"),B.textContent="#signature { text-align: initial; }",h(y,"font-family","Arial, Helvetica, sans-serif"),h(y,"font-size","14px"),h(y,"vertical-align","top"),m(A,"class","name"),h(A,"color","#64d7be"),h(k,"font-family","Arial, Helvetica, sans-serif"),h(k,"font-size","14px"),h(k,"vertical-align","top"),h(P,"color","#0c195a"),h(j,"font-family","Arial, Helvetica, sans-serif"),h(j,"font-size","14px"),h(j,"vertical-align","top"),m(U,"href",O="mailto:"+t[0]),m(U,"target","_blank"),h(U,"color","#0c195a"),h(U,"text-decoration","none"),h(L,"font-family","Arial, Helvetica, sans-serif"),h(L,"font-size","14px"),h(L,"vertical-align","top"),m(H,"href","https://"+je),m(H,"target","_blank"),h(H,"color","#0c195a"),h(H,"text-decoration","none"),h(R,"font-family","Arial, Helvetica, sans-serif"),h(R,"font-size","14px"),h(R,"vertical-align","top"),m(v,"cellpadding","0"),m(v,"cellspacing","5"),h(v,"mso-table-lspace","0pt"),h(v,"mso-table-rspace","0pt"),h(v,"border-collapse","separate"),h(w,"font-family","Arial, Helvetica, sans-serif"),h(w,"font-size","14px"),h(w,"vertical-align","top"),m(d,"cellpadding","0"),m(d,"cellspacing","0"),h(d,"mso-table-lspace","0pt"),h(d,"mso-table-rspace","0pt"),h(d,"border-collapse","separate"),h(i,"font-family","Arial, Helvetica, sans-serif"),h(i,"font-size","14px"),h(i,"vertical-align","top"),m(n,"id","signature"),m(n,"cellpadding","0"),m(n,"cellspacing","0"),h(n,"mso-table-lspace","0pt"),h(n,"mso-table-rspace","0pt"),h(n,"width","640px"),h(n,"padding","0"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"-webkit-font-smoothing","antialiased"),h(n,"font-size","14px"),h(n,"-ms-text-size-adjust","100%"),h(n,"-webkit-text-size-adjust","100%"),h(n,"border-collapse","separate")},m(e,t){a(e,n,t),l(n,o),l(o,r),l(r,i),l(i,d),l(d,p),l(p,b),l(b,y),l(b,$),l(b,w),l(w,v),l(v,x),l(x,_),l(_,k),l(k,A),l(x,I),l(x,C),l(C,j),l(j,P),l(x,T),l(x,E),l(E,L),l(L,U),l(U,S),l(x,q),Q&&Q.m(x,null),l(x,N),l(x,z),l(z,R),l(R,H),l(H,M),l(o,D),l(o,W),a(e,F,t),a(e,B,t)},p(e,t){_e(e),1&t&&g(S,e[0]),1&t&&O!==(O="mailto:"+e[0])&&m(U,"href",O),e[3]&&Q.p(e,t)},d(e){e&&c(n),Q&&Q.d(),e&&c(F),e&&c(B)}}}function Ie(t){let n;return{c(){n=s("p"),n.textContent="...loading"},m(e,t){a(e,n,t)},p:e,d(e){e&&c(n)}}}function Ce(t){let n,o={ctx:t,current:null,token:null,hasCatch:!0,pending:Ie,then:Ae,catch:ke,value:9,error:10};return z(t[4],o),{c(){n=d(),o.block.c()},m(e,t){a(e,n,t),o.block.m(e,o.anchor=t),o.mount=()=>n.parentNode,o.anchor=n},p(e,[n]){R(o,t=e,n)},i:e,o:e,d(e){e&&c(n),o.block.d(e),o.token=null,o=null}}}const je="www.qhalikay-organics.com";function Pe(e,t,n){let{user:o}=t,{emailAddress:r}=t;const{Name:i,Title:l,Phone:a}=o,c=Promise.all([a?xe(a):Promise.resolve()]);return e.$$set=e=>{"user"in e&&n(5,o=e.user),"emailAddress"in e&&n(0,r=e.emailAddress)},[r,i,l,a,c,o]}class Te extends B{constructor(e){super(),F(this,e,Pe,Ce,i,{user:5,emailAddress:0})}}function Ee(t){let n,r,i,l,u;return{c(){n=s("button"),n.textContent="Copy signature",r=f(),i=s("button"),i.textContent="Copy HTML code"},m(e,o){a(e,n,o),a(e,r,o),a(e,i,o),l||(u=[p(n,"click",t[0]),p(i,"click",t[1])],l=!0)},p:e,i:e,o:e,d(e){e&&c(n),e&&c(r),e&&c(i),l=!1,o(u)}}}function Le(e){const t=()=>document.getElementById("signature").outerHTML;return[function(e){e.preventDefault(),navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([t()],{type:"text/html"})})])},function(e){e.preventDefault(),navigator.clipboard.writeText(t())}]}class Ue extends B{constructor(e){super(),F(this,e,Le,Ee,i,{})}}var Se={CLIENT_ID:"574901819149-d46caor3hasi3bsngfua2q20idump433.apps.googleusercontent.com",API_KEY:"AIzaSyDIzIuLKqaQhWXSykVOWOQLqlLggFTDOh8",documentId:"1x8vAA_QXGfApFqUW0v7Ia2Yrad8cDrqtph-4-X1itgI"};function Oe(e){e[10]=e[12][0],e[11]=e[12][1]}function qe(t){let n,o,r=(t[13]?t[13].message||(t[13].result?`${t[13].result.error.code} ${t[13].result.error.status}: ${t[13].result.error.message}`:t[13]):"Unknown error")+"";return{c(){n=s("p"),o=u(r),h(n,"color","red")},m(e,t){a(e,n,t),l(n,o)},p(e,t){1&t&&r!==(r=(e[13]?e[13].message||(e[13].result?`${e[13].result.error.code} ${e[13].result.error.status}: ${e[13].result.error.message}`:e[13]):"Unknown error")+"")&&g(o,r)},i:e,o:e,d(e){e&&c(n)}}}function Ne(e){let t,n,o,r;Oe(e),t=new ye({props:{user:e[10],onsubmit:e[1]}});let i=!e[10].newUser&&ze(e);return{c(){H(t.$$.fragment),n=f(),i&&i.c(),o=d()},m(e,l){M(t,e,l),a(e,n,l),i&&i.m(e,l),a(e,o,l),r=!0},p(e,n){Oe(e);const r={};1&n&&(r.user=e[10]),t.$set(r),e[10].newUser?i&&(S(),N(i,1,1,(()=>{i=null})),O()):i?(i.p(e,n),1&n&&q(i,1)):(i=ze(e),i.c(),q(i,1),i.m(o.parentNode,o))},i(e){r||(q(t.$$.fragment,e),q(i),r=!0)},o(e){N(t.$$.fragment,e),N(i),r=!1},d(e){D(t,e),e&&c(n),i&&i.d(e),e&&c(o)}}}function ze(e){let t,n,o,r,i,l,u,d;return o=new Te({props:{user:e[10],emailAddress:e[11]}}),u=new Ue({}),{c(){t=s("hr"),n=f(),H(o.$$.fragment),r=f(),i=s("hr"),l=f(),H(u.$$.fragment)},m(e,c){a(e,t,c),a(e,n,c),M(o,e,c),a(e,r,c),a(e,i,c),a(e,l,c),M(u,e,c),d=!0},p(e,t){const n={};1&t&&(n.user=e[10]),1&t&&(n.emailAddress=e[11]),o.$set(n)},i(e){d||(q(o.$$.fragment,e),q(u.$$.fragment,e),d=!0)},o(e){N(o.$$.fragment,e),N(u.$$.fragment,e),d=!1},d(e){e&&c(t),e&&c(n),D(o,e),e&&c(r),e&&c(i),e&&c(l),D(u,e)}}}function Re(t){let n;return{c(){n=s("p"),n.textContent="...loading"},m(e,t){a(e,n,t)},p:e,i:e,o:e,d(e){e&&c(n)}}}function He(e){let t,n,o,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Re,then:Ne,catch:qe,value:12,error:13,blocks:[,,,]};return z(n=e[0],r),{c(){t=d(),r.block.c()},m(e,n){a(e,t,n),r.block.m(e,r.anchor=n),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(t,[o]){e=t,r.ctx=e,1&o&&n!==(n=e[0])&&z(n,r)||R(r,e,o)},i(e){o||(q(r.block),o=!0)},o(e){for(let e=0;e<3;e+=1){N(r.blocks[e])}o=!1},d(e){e&&c(t),r.block.d(e),r.token=null,r=null}}}function Me(e){if(e&&"object"==typeof e)return e.content?e.content:Object.values(e).map(Me).join("")}function De(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((o=o.apply(e,t||[])).next())}))};const{documentId:r}=Se;function*i(e,t){yield"",yield"";const n=[];yield se({[e]:Object.fromEntries(Object.entries(t).filter((([e,t])=>!!t&&(!("object"==typeof t&&!Array.isArray(t))||(n.push(function*(e,t){for(const[n,o]of Object.entries(t))o&&(yield`${e}.${se({[n]:o})}`)}(e,t)),!1)))))}).trimEnd();for(const e of n)yield*e}const l=(e,t)=>Object.entries(t).some((([t,n])=>"object"==typeof n?l(e[t],n):e[t]!==n)),a=(e,t)=>{if(t.includes(".")){const[n,o]=t.split(".",2);return e[n][o]}return e[t]},c=(e,t,n="")=>Object.entries(e).flatMap((([e,o])=>o&&o!==t[e]?"string"==typeof o||Array.isArray(o)?{entry:[`${n}${e}`,o]}:c(o,t[e],`${e}.`):[]));function s(e){const t=ae(e.result.body.content.map(Me).join("\n"));return console.log(t),t}let u=Promise.all([ue("build/5bb3b01f8af02723.wasm"),gapi.client.docs.documents.get({documentId:r}),location.hash.includes("@")?Promise.resolve({result:{email:location.hash.slice(1)}}):gapi.client.request({method:"GET",path:"/userinfo/v2/me"})]).then((([e,t,n])=>{var o;return[null!==(o=s(t)[n.result.email])&&void 0!==o?o:{Name:n.result.name,newUser:!0},n.result.email]}));return u.catch(console.error),window.addEventListener("hashchange",(()=>{if(location.hash.includes("@")){const e=location.hash.slice(1);n(0,u=gapi.client.docs.documents.get({documentId:r}).then((t=>{var n;return[null!==(n=s(t)[e])&&void 0!==n?n:{newUser:!0},e]})))}})),[u,function(e){var t;return o(this,void 0,void 0,(function*(){e.preventDefault();const o=[],[s,f]=yield u,d={};for(const[e,n]of new FormData(this).entries())if(e.includes(".")){const[o,r]=e.split(".",2);null!==(t=d[o])&&void 0!==t||(d[o]={}),d[o][r]=n}else d[e]="Phone"===e&&""!==n?"+"+/\D/g[Symbol.replace](n,""):n;if(s.newUser){d.pictureUrl=`https://www.e-comas.com/docs/signatures/ressources/${f.substring(0,f.indexOf("@"))}.jpg`,s.newUser=!1;const e=[...i(f,d)].join("\n");o.push({insertText:{text:e,endOfSegmentLocation:{segmentId:""}}}),n(0,u=Promise.resolve([ae(e)[f],f]))}else if(JSON.stringify(s)!==JSON.stringify(d)){const e=(yield gapi.client.docs.documents.get({documentId:r})).result.body.content.flatMap((e=>{var t,n;return null!==(n=null===(t=e.paragraph)||void 0===t?void 0:t.elements.map((({startIndex:e,endIndex:t,textRun:n})=>({startIndex:e,endIndex:t,text:n.content}))))&&void 0!==n?n:[]})),t=/^\s*\["[^"]+@[^"]+"\]\s*$/,i=/\S/;let p,m=!1;for(const{startIndex:n,endIndex:r,text:c}of e)if(i.test(c)){if(t.test(c)){if(m)break;c.trim()===`[${se(f)}]`&&(m=!0)}else if(m&&(p=r,l(d,ae(c)))){const e=c.slice(0,c.indexOf("=")).trim(),t=a(d,e);""===t?delete s[e]:s[e]=t,o.unshift({deleteContentRange:{range:{segmentId:"",startIndex:n,endIndex:r}}},""===t?void 0:{insertText:{location:{index:n,segmentId:""},text:`${e} = ${se(t)}\n`}})}}else;for(const{entry:[e,t]}of c(d,s))s[e]=t,o.unshift({insertText:{location:{index:p,segmentId:""},text:`${e} = ${se(t)}\n`}});n(0,u=Promise.resolve([s,f]))}o.length&&(yield gapi.client.docs.documents.batchUpdate({documentId:r,requests:o}))}))}]}class We extends B{constructor(e){super(),F(this,e,De,He,i,{})}}function Fe(t){let n,o,r,i,d=(t[8].message||t[8].error.message)+"";return{c(){n=s("p"),n.textContent="Unable to connect to Google API.",o=f(),r=s("p"),i=u(d),h(n,"color","red"),h(r,"color","red")},m(e,t){a(e,n,t),a(e,o,t),a(e,r,t),l(r,i)},p:e,d(e){e&&c(n),e&&c(o),e&&c(r)}}}function Be(e){let t;function n(e,t){return e[1]?Ye:Qe}let o=n(e),r=o(e);return{c(){r.c(),t=d()},m(e,n){r.m(e,n),a(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&c(t)}}}function Qe(e){let t,n,o,r;function i(e,t){return e[0]?Ge:Je}let u=i(e),f=u(e);return{c(){t=s("p"),n=s("button"),f.c()},m(i,c){a(i,t,c),l(t,n),f.m(n,null),o||(r=p(n,"click",e[7]),o=!0)},p(t,o){u!==(u=i(e=t))&&(f.d(1),f=u(e),f&&(f.c(),f.m(n,null)))},d(e){e&&c(t),f.d(),o=!1,r()}}}function Ye(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Xe,then:Ve,catch:Ke,error:8};return z(n=e[1],o),{c(){t=d(),o.block.c()},m(e,n){a(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t},p(t,r){e=t,o.ctx=e,2&r&&n!==(n=e[1])&&z(n,o)||R(o,e,r)},d(e){e&&c(t),o.block.d(e),o.token=null,o=null}}}function Je(e){let t;return{c(){t=u("Sign in")},m(e,n){a(e,t,n)},d(e){e&&c(t)}}}function Ge(e){let t;return{c(){t=u("Sign out")},m(e,n){a(e,t,n)},d(e){e&&c(t)}}}function Ke(e){let t,n,r,i,d,m,b,y,$,w,v=(e[8].message||e[8].error||"Error")+"";return{c(){t=s("p"),n=u("An error occured: "),r=u(v),i=u("."),d=f(),m=s("button"),m.textContent="Try again",b=f(),y=s("button"),y.textContent="Cancel",h(t,"color","red")},m(o,c){a(o,t,c),l(t,n),l(t,r),l(t,i),a(o,d,c),a(o,m,c),a(o,b,c),a(o,y,c),$||(w=[p(m,"click",e[7]),p(y,"click",e[2])],$=!0)},p(t,n){e=t,2&n&&v!==(v=(e[8].message||e[8].error||"Error")+"")&&g(r,v)},d(e){e&&c(t),e&&c(d),e&&c(m),e&&c(b),e&&c(y),$=!1,o(w)}}}function Ve(t){return{c:e,m:e,p:e,d:e}}function Xe(t){let n;return{c(){n=s("p"),n.textContent="...loading"},m(e,t){a(e,n,t)},p:e,d(e){e&&c(n)}}}function Ze(t){let n;return{c(){n=s("p"),n.textContent="...loading"},m(e,t){a(e,n,t)},p:e,d(e){e&&c(n)}}}function et(e){let t,n;return t=new We({}),{c(){H(t.$$.fragment)},m(e,o){M(t,e,o),n=!0},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function tt(e){let t,n,o,r,i,u={ctx:e,current:null,token:null,hasCatch:!0,pending:Ze,then:Be,catch:Fe,value:7,error:8};z(e[3],u);let d=e[0]&&et();return{c(){t=s("main"),n=s("h1"),n.textContent="Email signature tool",o=f(),u.block.c(),r=f(),d&&d.c(),m(n,"class","svelte-1wmija6"),m(t,"class","svelte-1wmija6")},m(e,c){a(e,t,c),l(t,n),l(t,o),u.block.m(t,u.anchor=null),u.mount=()=>t,u.anchor=r,l(t,r),d&&d.m(t,null),i=!0},p(n,[o]){R(u,e=n,o),e[0]?d?1&o&&q(d,1):(d=et(),d.c(),q(d,1),d.m(t,null)):d&&(S(),N(d,1,1,(()=>{d=null})),O())},i(e){i||(q(d),i=!0)},o(e){N(d),i=!1},d(e){e&&c(t),u.block.d(),u.token=null,u=null,d&&d.d()}}}function nt(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}};let i,l;const a=import("./gdocs-88f14329.js").then((e=>{const t=e.subscribeToConnectionStatus(),a=t.next();return function(e){var t,a,c,s;o(this,void 0,void 0,(function*(){try{for(t=r(e);!(a=yield t.next()).done;){const e=a.value;n(0,i=e),n(1,l=null)}}catch(e){c={error:e}}finally{try{a&&!a.done&&(s=t.return)&&(yield s.call(t))}finally{if(c)throw c.error}}}))}(t),Promise.all([e.initClientPromise,a]).then((([,t])=>(n(0,i=t.value),()=>{n(1,l=new Promise(((t,n)=>(i?e.disconnect():e.connect()).then(t,n))))})))}));return[i,l,function(){n(1,l=null)},a]}const ot=new class extends B{constructor(e){super(),F(this,e,nt,tt,i,{})}}({target:document.body,props:{}});export{ot as a,Se as g};
//# sourceMappingURL=main-6ce0d742.js.map
